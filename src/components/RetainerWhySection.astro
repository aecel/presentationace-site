---
/**
 * RetainerWhySection
 * Usage: <RetainerWhySection />
 *
 * Toggle theme via class:
 *  - "retainerWhy retainerWhy--light" (inherits page bg)
 *  - "retainerWhy retainerWhy--dark"  (sets dark bg)
 */

const SECTION_ID = "why-retainer"

const startYear = 2017
const yearNow = new Date().getFullYear()
const yearsExperience = Math.max(1, yearNow - startYear)

const projectPoints = [
  "Great for one-off decks or occasional updates.",
  "Turnaround depends on capacity (typically 1–2 weeks).",
  "Rush is possible, but comes with a premium and depends on availability.",
  "Each new request often means re-contexting and re-aligning on preferences.",
]

const retainerPoints = [
  "Reserved capacity + priority access (best possible turnaround).",
  "No rush fees for updates/iterations within plan scope.",
  "Built-in discount vs. standard hourly pricing.",
  "A partner who learns your preferences over time. Faster, smoother collaboration.",
  "Flex usage: concept, design, animation, and consulting (use hours where they matter most).",
]

const retainerIncludes = [
  "Preferential rates (your commitment is rewarded).",
  "Priority access (front of the queue).",
  "No rush fees for updates/iterations within plan scope.",
  "Flexible usage across design + consulting tasks.",
  "Low friction: skip paperwork, onboarding, and repeated re-explaining.",
]

const calloutBullets = [
  "Have an on-call PowerPoint expert without the overhead of a full-time hire.",
  "Same-day / next-day turnaround may be available depending on your plan and queue.",
  `Work with a presentation specialist with ${yearsExperience}+ years of experience.`,
  "Get quick answers when you have questions about presenting, PowerPoint, or design.",
]

const CTA_HREF = "/pricing?from=retainerwhy" // or "/contact"
---

<section
  id={SECTION_ID}
  class="retainerWhy retainerWhy--light"
  aria-labelledby="retainerWhy-title"
>
  <div class="shell">
    <header class="retainerWhy__header">
      <p class="retainerWhy__eyebrow">Retainers</p>
      <h2 id="retainerWhy-title" class="retainerWhy__title">
        Why a retainer beats project-based
      </h2>
      <p class="retainerWhy__intro">
        If you have recurring presentation needs, a retainer gives you the
        highest level of service: reserved capacity, priority turnaround, and a
        partner who already knows your brand.
      </p>
    </header>

    <div class="retainerWhy__grid">
      <!-- Comparison -->
      <div class="compare">
        <article class="compareCard">
          <h3 class="compareCard__title">Project basis</h3>
          <p class="compareCard__sub">Best for occasional needs</p>
          <ul class="list">
            {projectPoints.map((p) => <li>{p}</li>)}
          </ul>
        </article>

        <article class="compareCard compareCard--featured">
          <h3 class="compareCard__title">Monthly retainer</h3>
          <p class="compareCard__sub">Best value + best service</p>
          <ul class="list">
            {retainerPoints.map((p) => <li>{p}</li>)}
          </ul>
          <a class="btn" href={CTA_HREF}>See retainer packages</a>
        </article>
      </div>

      <!-- Callout -->
      <aside class="callout" aria-label="Retainer highlights">
        <h3 class="callout__title">
          It’s like having a senior designer down the hall
        </h3>
        <p class="callout__desc">
          …for a fraction of the cost of a full-time hire, and without the
          friction. Business moves fast. You shouldn’t have to renegotiate a
          mini-contract every time you need a deck polished.
        </p>

        <ul class="callout__list">
          {calloutBullets.map((b) => <li>{b}</li>)}
        </ul>

        <div class="callout__footer">
          <p class="callout__note">
            If your needs are unique (interactive decks, special workflows,
            unusual timelines), tell me. Retainers can be customized.
          </p>
          <a class="btn btn--secondary" href="/contact?from=retainerwhy">Ask about fit</a>
        </div>
      </aside>
    </div>

    <div class="includes">
      <h3 class="includes__title">All retainer partnerships include</h3>
      <ul class="includes__list">
        {retainerIncludes.map((x) => <li>{x}</li>)}
      </ul>
    </div>
  </div>

  <style>
    .retainerWhy {
      --accent: #cf729c;

      --ink: #2a2c27;
      --text: #2b2b2b;
      --muted: #6e6e6e;

      --card: #ffffff;
      --border: rgba(0, 0, 0, 0.1);
      --shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
      --radius: 16px;

      padding: clamp(28px, 5vw, 56px) 16px;
      color: var(--text);
    }

    /* Light mode: inherits page bg */
    .retainerWhy--light {
      background: unset;
    }

    /* Dark mode: panel background */
    .retainerWhy--dark {
      background: #0f1216;

      --ink: #f2f4f8;
      --text: #e8eaf0;
      --muted: #a8afbd;

      --card: rgba(21, 26, 32, 0.92);
      --border: rgba(255, 255, 255, 0.1);
      --shadow: 0 12px 30px rgba(0, 0, 0, 0.45);
    }

    .retainerWhy .shell {
      max-width: 1100px;
      margin: 0 auto;
    }

    .retainerWhy__header {
      text-align: center;
      margin-bottom: 18px;
    }

    .retainerWhy__eyebrow {
      margin: 0 0 10px;
      font-weight: 700;
      color: var(--muted);
      letter-spacing: 0.06em;
      text-transform: uppercase;
      font-size: 0.85rem;
    }

    .retainerWhy__title {
      margin: 0;
      font-size: clamp(1.5rem, 2.2vw, 2rem);
      font-weight: 900;
      color: var(--ink);
    }

    .retainerWhy__intro {
      margin: 12px auto 0;
      max-width: 900px;
      color: var(--muted);
      line-height: 1.65;
    }

    .retainerWhy__grid {
      margin-top: 18px;
      display: grid;
      grid-template-columns: 1.15fr 0.85fr;
      gap: 18px;
      align-items: stretch;
    }

    .compare {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 18px;
      align-items: stretch;
    }

    .compareCard {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px 18px 16px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      height: 100%;
    }

    .compareCard--featured {
      outline: 2px solid rgba(207, 114, 156, 0.35);
      outline-offset: 2px;
    }

    .compareCard__title {
      margin: 0;
      font-size: 1.05rem;
      /* font-weight: 900; */
      color: var(--ink);
    }

    .compareCard__sub {
      margin: -6px 0 0;
      color: var(--muted);
      line-height: 1.5;
    }

    .list {
      margin: 8px 0 0;
      padding: 0;
      list-style: none;
      color: var(--muted);
      line-height: 1.6;
      font-size: 0.95rem;
      flex: 1;
    }

    .list li {
      position: relative;
      padding-left: 18px;
      margin: 12px 0;
    }

    .list li::before {
      content: "✓";
      position: absolute;
      left: 0;
      top: 0.22em;
      color: var(--accent);
      font-weight: 900;
      line-height: 1;
    }

    .callout {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px 18px 16px;
      height: 100%;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .callout__title {
      margin: 0;
      color: var(--ink);
      /* font-weight: 900; */
      font-size: 1.1rem;
    }

    .callout__desc {
      margin: 0;
      color: var(--muted);
      line-height: 1.65;
    }

    .callout__list {
      margin: 8px 0 0;
      padding: 0;
      list-style: none;
      color: var(--muted);
      line-height: 1.6;
      font-size: 0.95rem;
    }

    .callout__list li {
      position: relative;
      padding-left: 18px;
      margin: 12px 0;
    }

    .callout__list li::before {
      content: "✓";
      position: absolute;
      left: 0;
      top: 0.22em;
      color: var(--accent);
      font-weight: 900;
      line-height: 1;
    }

    .callout__footer {
      margin-top: auto;
      border-top: 1px solid rgba(255, 255, 255, 0);
      padding-top: 6px;
      display: grid;
      gap: 10px;
      justify-items: center;
    }

    .callout__note {
      margin: 0;
      color: var(--muted);
      line-height: 1.6;
      font-size: 0.95rem;
    }

    .includes {
      margin-top: 18px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px 18px 10px;
    }

    .includes__title {
      margin: 0;
      color: var(--ink);
      /* font-weight: 900; */
      font-size: 1.05rem;
    }

    .includes__list {
      margin: 10px 0 0;
      padding: 0;
      list-style: none;
      color: var(--muted);
      line-height: 1.6;
      font-size: 0.95rem;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0 18px;
    }

    .includes__list li {
      position: relative;
      padding-left: 18px;
      margin: 10px 0;
    }

    .includes__list li::before {
      content: "✓";
      position: absolute;
      left: 0;
      top: 0.22em;
      color: var(--accent);
      font-weight: 900;
      line-height: 1;
    }

    .btn {
      height: 46px;
      padding: 0 18px;
      border-radius: 999px;
      background: var(--accent);
      color: #fff;
      text-decoration: none;
      font-weight: 700;
      font-size: 1rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border: 1px solid rgba(0, 0, 0, 0.08);
      width: max-content;
    }

    .btn:hover {
      filter: brightness(0.98);
    }

    .btn--secondary {
      background: transparent;
      color: var(--accent);
      border: 2px solid rgba(207, 114, 156, 0.65);
    }

    .btn--secondary:hover {
      border-color: rgba(207, 114, 156, 0.95);
      filter: none;
    }

    @media (max-width: 980px) {
      .retainerWhy__grid {
        grid-template-columns: 1fr;
      }

      .compare {
        grid-template-columns: 1fr;
      }

      .includes__list {
        grid-template-columns: 1fr;
      }
    }
  </style>
</section>
